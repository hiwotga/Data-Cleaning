
-- See what is in the hashvillehousing table

Select * 
From PortfolioProject.dbo.hashvillehousing;



-- Standardize Date Format

-- Method1, covert it to Date format  

Update PortfolioProject.dbo.hashvillehousing
Set SaleDate = CONVERT(Date, SaleDAte) ;



-- Method2, alter the table

Alter table PortfolioProject.dbo.hashvillehousing
Alter column SaleDate Date ;






-- Populate null rows of PropertyAddress column  with thes property address of another row which has same ParecelID
-- but different UniqueID

Update a
Set propertyAddress = ISNULL(a.propertyAddress, b.propertyAddress)
From PortfolioProject.dbo.hashvillehousing a
Join PortfolioProject.dbo.hashvillehousing b
ON a.ParcelID = b.ParcelID
AND a.[UniqueID ] <> b.[UniqueID ]
Where a.propertyAddress is Null;






-- Breaking out Address into individual columns (Address, city)
-- Method1

-- Add the new columns to the table

Alter Table PortfolioProject.dbo.hashvillehousing
Add	propertysplitaddress nvarchar(255), propertycity nvarchar(255)




-- Insert value to the new columns

Update  PortfolioProject.dbo.hashvillehousing
Set propertysplitaddress = SUBSTRING(propertyaddress, 1, CHARINDEX(',',propertyaddress)-1),
	propertycity = SUBSTRING(propertyaddress,  CHARINDEX(',',propertyaddress)+1, len(propertyaddress));




-- Method2, split into three columns

-- Add the new columns to the table

Alter Table PortfolioProject.dbo.hashvillehousing
Add	ownersplitaddress nvarchar(255), ownersplitcity nvarchar(255), ownersplitstate nvarchar(255)




-- Insert value to the new columns

Update  PortfolioProject.dbo.hashvillehousing
Set	ownersplitaddress = PARSENAME (REPLACE(owneraddress, ',', '.'),3),
	ownersplitcity = PARSENAME (REPLACE(owneraddress, ',', '.'),2),
	ownersplitstate = PARSENAME (REPLACE(owneraddress, ',', '.'),1)




-- update values inserted with short form (yes as y and no as n) to full form

Update  PortfolioProject.dbo.hashvillehousing
Set SoldAsVacant =  Case SoldAsVacant
					When 'y' then 'Yes'
					When 'n' then 'No'
					else  SoldAsVacant
					end;
